<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Complete installation, deployment, FastCGI, and configuration guide for G3Pix AxonASP.">
        <title>Installation & Deployment - G3Pix AxonASP</title>
        <link rel="stylesheet" href="styles.css">
        <style>
            .installation-content {
                max-width: 980px;
                margin: 0 auto;
                padding: 4rem 2rem;
            }

            .installation-header {
                text-align: center;
                margin-bottom: 3rem;
            }

            .installation-header h1 {
                font-size: 3rem;
                margin-bottom: 1rem;
                background: var(--gradient);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .toc {
                background: #f8f9fa;
                padding: 1.5rem;
                border-radius: 12px;
                margin-bottom: 2rem;
            }

            .toc ul {
                list-style: none;
                columns: 2;
            }

            .toc li {
                margin-bottom: 0.4rem;
            }

            .toc a {
                color: var(--text-color);
                text-decoration: none;
            }

            .toc a:hover {
                color: var(--primary-color);
            }

            .install-section {
                margin-bottom: 2rem;
                background: white;
                border-radius: 12px;
                box-shadow: var(--shadow);
                padding: 1.6rem;
            }

            .install-section h2 {
                font-size: 1.8rem;
                margin-bottom: 1rem;
                color: var(--primary-color);
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 0.5rem;
            }

            .install-section h3 {
                font-size: 1.2rem;
                margin: 1.2rem 0 0.6rem;
            }

            .code-block {
                background: var(--dark-color);
                color: #f8f9fa;
                padding: 1rem;
                border-radius: 8px;
                overflow-x: auto;
                margin: 0.8rem 0;
            }

            .code-block pre {
                margin: 0;
            }

            .code-block code {
                font-family: 'Courier New', monospace;
                font-size: 0.92rem;
            }

            .note,
            .warning,
            .success {
                border-left: 4px solid;
                border-radius: 6px;
                padding: 0.9rem 1rem;
                margin-top: 0.8rem;
            }

            .note {
                background: #e3f2fd;
                border-left-color: #2196f3;
            }

            .warning {
                background: #fff3e0;
                border-left-color: #ff9800;
            }

            .success {
                background: #e8f5e9;
                border-left-color: #4caf50;
            }

            .config-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 1rem;
                font-size: 0.95rem;
            }

            .config-table th,
            .config-table td {
                padding: 0.7rem;
                text-align: left;
                border-bottom: 1px solid #e9ecef;
                vertical-align: top;
            }

            .config-table th {
                background: var(--dark-color);
                color: #fff;
            }

            .config-table tr:nth-child(even) {
                background: #fafafa;
            }

            .config-table code {
                background: rgba(0, 173, 216, 0.1);
                padding: 0.1rem 0.4rem;
                border-radius: 4px;
            }

            @media (max-width: 900px) {
                .toc ul {
                    columns: 1;
                }
            }
        </style>
    </head>

    <body>
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <img src="axonasp.svg" alt="G3Pix AxonASP" class="logo">
                    <span class="brand-name">G3Pix AxonASP</span>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.htm">Home</a></li>
                    <li><a href="index.htm#features">Features</a></li>
                    <li><a href="index.htm#quickstart">Quick Start</a></li>
                    <li><a href="installation.htm" class="active">Installation</a></li>
                    <li><a href="features.htm">Documentation</a></li>
                    <li><a href="https://github.com/guimaraeslucas/axonasp" target="_blank" class="btn-github">GitHub</a></li>
                </ul>
            </div>
        </nav>

        <div class="installation-content">
            <div class="installation-header">
                <h1>Installation & Deployment</h1>
                <p style="font-size:1.1rem;color:var(--text-light);">From first run to production architecture: everything you need to launch AxonASP with confidence.</p>
            </div>

            <div class="toc">
                <h3>üìã Table of Contents</h3>
                <ul>
                    <li><a href="#prereq">Prerequisites</a></li>
                    <li><a href="#modes">Deployment Modes</a></li>
                    <li><a href="#quickstart">Quick Start</a></li>
                    <li><a href="#build">Build & Cross-Compile</a></li>
                    <li><a href="#fastcgi">FastCGI Mode</a></li>
                    <li><a href="#config">Configuration (.env)</a></li>
                    <li><a href="#proxy">Reverse Proxy</a></li>
                    <li><a href="#iis">IIS Compatibility & web.config</a></li>
                    <li><a href="#instances">Multiple Instances</a></li>
                    <li><a href="#debug">Debug & Troubleshooting</a></li>
                    <li><a href="#prod">Production Checklist</a></li>
                </ul>
            </div>

            <section id="prereq" class="install-section">
                <h2>Prerequisites</h2>
                <ul>
                    <li><strong>Go 1.25+</strong></li>
                    <li>Git for cloning the repository</li>
                    <li>Basic Classic ASP / VBScript understanding</li>
                </ul>
                <div class="success"><strong>Good news:</strong> AxonASP is a single-binary runtime with simple operational flow.</div>
            </section>

            <section id="modes" class="install-section">
                <h2>Deployment Modes</h2>
                <h3>Standalone (<code>axonasp.exe</code>)</h3>
                <p>Best for development and simple deployments. Built-in HTTP server on port 4050 by default.</p>
                <h3>FastCGI (<code>axonaspcgi.exe</code>)</h3>
                <p>Best for production and high-traffic stacks with nginx/Apache/IIS integration.</p>
            </section>

            <section id="quickstart" class="install-section">
                <h2>Quick Start</h2>
                <div class="code-block"><pre><code>git clone https://github.com/guimaraeslucas/axonasp.git
cd axonasp
go mod download
go run main.go</code></pre></div>
                <p>Open <code>http://localhost:4050</code>.</p>

                <h3>Linux Installer (RPM distro + nginx proxy)</h3>
                <div class="code-block"><pre><code>wget https://raw.githubusercontent.com/guimaraeslucas/axonasp/main/linux_install.sh -O linux_install.sh && sed -i 's/\r$//' linux_install.sh && chmod +x linux_install.sh && bash linux_install.sh</code></pre></div>
            </section>

            <section id="build" class="install-section">
                <h2>Build & Cross-Compile</h2>
                <div class="code-block"><pre><code>go build
# Windows full build helper
./build.ps1</code></pre></div>

                <h3>Cross-platform</h3>
                <div class="code-block"><pre><code># Windows
GOOS=windows GOARCH=amd64 go build

# Linux
GOOS=linux GOARCH=amd64 go build

# macOS Intel
GOOS=darwin GOARCH=amd64 go build

# macOS Apple Silicon
GOOS=darwin GOARCH=arm64 go build</code></pre></div>
            </section>

            <section id="fastcgi" class="install-section">
                <h2>FastCGI Mode</h2>
                <div class="code-block"><pre><code>go build -o axonaspcgi.exe ./axonaspcgi
./axonaspcgi -listen :9000 -root ./www
# Unix socket example
./axonaspcgi -listen unix:/var/run/axonasp.sock -root /var/www/asp</code></pre></div>
                <ul>
                    <li>Native integration with nginx, Apache, IIS</li>
                    <li>Great fit for production-grade SSL, cache, and static handling</li>
                    <li>Strong scaling model for high-traffic environments</li>
                </ul>
                <p><a target="_blank" href="https://github.com/guimaraeslucas/axonasp/blob/main/docs/FASTCGI_MODE.md">Open complete FastCGI guide</a></p>
            </section>

            <section id="config" class="install-section">
                <h2>Configuration (.env)</h2>
                <div class="code-block"><pre><code>SERVER_PORT=4050
WEB_ROOT=./www
TIMEZONE=America/Sao_Paulo
DEFAULT_PAGE=index.asp,default.asp
SCRIPT_TIMEOUT=30
DEBUG_ASP=FALSE</code></pre></div>

                <table class="config-table">
                    <thead>
                        <tr><th>Variable</th><th>Default</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>SERVER_PORT</code></td><td>4050</td><td>HTTP server port</td></tr>
                        <tr><td><code>WEB_ROOT</code></td><td>./www</td><td>Root directory for ASP files</td></tr>
                        <tr><td><code>TIMEZONE</code></td><td>America/Sao_Paulo</td><td>Server timezone</td></tr>
                        <tr><td><code>DEFAULT_PAGE</code></td><td>index.asp,default.asp,...</td><td>Default page hierarchy</td></tr>
                        <tr><td><code>SCRIPT_TIMEOUT</code></td><td>30</td><td>Script timeout (seconds)</td></tr>
                        <tr><td><code>DEBUG_ASP</code></td><td>FALSE</td><td>Detailed ASP stack traces</td></tr>
                        <tr><td><code>CLEAN_SESSIONS</code></td><td>TRUE</td><td>Cleanup expired sessions at startup</td></tr>
                        <tr><td><code>ASP_CACHE_TYPE</code></td><td>disk</td><td>AST cache type (memory/disk)</td></tr>
                        <tr><td><code>ASP_CACHE_TTL_MINUTES</code></td><td>0</td><td>AST cache TTL</td></tr>
                        <tr><td><code>AXONASP_VM</code></td><td>FALSE</td><td>Experimental VM toggle</td></tr>
                        <tr><td><code>VM_CACHE_TYPE</code></td><td>disk</td><td>VM cache type</td></tr>
                        <tr><td><code>VM_CACHE_TTL_MINUTES</code></td><td>0</td><td>VM cache TTL</td></tr>
                        <tr><td><code>MEMORY_LIMIT_MB</code></td><td>0</td><td>Process memory limit</td></tr>
                        <tr><td><code>ERROR_404_MODE</code></td><td>DEFAULT</td><td>DEFAULT or IIS mode</td></tr>
                        <tr><td><code>BLOCKED_EXTENSIONS</code></td><td>see .env</td><td>Blocked extension list</td></tr>
                        <tr><td><code>COM_PROVIDER</code></td><td>auto</td><td>Access COM provider strategy</td></tr>
                        <tr><td><code>SQL_TRACE</code></td><td>FALSE</td><td>Verbose SQL logs</td></tr>
                        <tr><td><code>SMTP_*</code></td><td>-</td><td>SMTP configuration</td></tr>
                        <tr><td><code>MYSQL_HOST</code></td><td>localhost</td><td>G3DB MySQL host</td></tr>
                        <tr><td><code>POSTGRES_HOST</code></td><td>localhost</td><td>G3DB PostgreSQL host</td></tr>
                        <tr><td><code>MSSQL_HOST</code></td><td>localhost</td><td>G3DB SQL Server host</td></tr>
                        <tr><td><code>SQLITE_PATH</code></td><td>./database.db</td><td>G3DB SQLite path</td></tr>
                    </tbody>
                </table>
            </section>

            <section id="proxy" class="install-section">
                <h2>Reverse Proxy</h2>
                <h3>Nginx</h3>
                <div class="code-block"><pre><code>server {
    listen 80;
    server_name example.com;
    root /var/www/asp;

    location ~ \.(asp|aspx)$ {
        fastcgi_pass   127.0.0.1:9000;
        include        fastcgi_params;
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
    }
}</code></pre></div>

                <h3>Apache</h3>
                <div class="code-block"><pre><code>&lt;VirtualHost *:80&gt;
    ServerName app1.example.com
    ProxyPreserveHost On
    ProxyPass / http://localhost:4050/
    ProxyPassReverse / http://localhost:4050/
&lt;/VirtualHost&gt;</code></pre></div>

                <h3>IIS (URL Rewrite + ARR)</h3>
                <div class="code-block"><pre><code>&lt;configuration&gt;
  &lt;system.webServer&gt;
    &lt;rewrite&gt;
      &lt;rules&gt;
        &lt;rule name="ReverseProxyToAxonASP" stopProcessing="true"&gt;
          &lt;match url="(.*)" /&gt;
          &lt;action type="Rewrite" url="http://localhost:4050/{R:1}" /&gt;
        &lt;/rule&gt;
      &lt;/rules&gt;
    &lt;/rewrite&gt;
  &lt;/system.webServer&gt;
&lt;/configuration&gt;</code></pre></div>
            </section>

            <section id="iis" class="install-section">
                <h2>IIS Compatibility & web.config</h2>
                <p>AxonASP reads <code>web.config</code> for IIS-style rewrite rules and custom error handling.</p>

                <h3>404 Modes</h3>
                <ul>
                    <li><code>default</code>: static <code>errorpages/404.html</code></li>
                    <li><code>asp</code>: custom ASP page via <code>CUSTOM_404_PAGE</code></li>
                    <li><code>iis</code>: <code>httpErrors</code> in web.config</li>
                </ul>

                <h3>Rewrite Example</h3>
                <div class="code-block"><pre><code>&lt;rule name="Product Page" stopProcessing="true"&gt;
  &lt;match url="^product/([0-9]+)$" /&gt;
  &lt;action type="Rewrite" url="/product.asp?id={R:1}" /&gt;
&lt;/rule&gt;</code></pre></div>
            </section>

            <section id="instances" class="install-section">
                <h2>Multiple Instances</h2>
                <p>One application per instance (global.asa model). Run multiple instances for multiple apps:</p>
                <div class="code-block"><pre><code># App 1
SERVER_PORT=4050 WEB_ROOT=./app1/www ./axonasp

# App 2
SERVER_PORT=4051 WEB_ROOT=./app2/www ./axonasp

# App 3
SERVER_PORT=4052 WEB_ROOT=./app3/www ./axonasp</code></pre></div>
            </section>

            <section id="debug" class="install-section">
                <h2>Debug & Troubleshooting</h2>
                <div class="code-block"><pre><code>DEBUG_ASP=TRUE
SQL_TRACE=TRUE</code></pre></div>
                <ul>
                    <li>Port conflict: change <code>SERVER_PORT</code>.</li>
                    <li>No stack traces: set <code>DEBUG_ASP=TRUE</code>.</li>
                    <li>Database failures: validate drivers and connection strings.</li>
                    <li>Session persistence issues: ensure <code>temp/session</code> exists and is writable.</li>
                </ul>
            </section>

            <section id="prod" class="install-section">
                <h2>Production Checklist</h2>
                <ul>
                    <li>Run FastCGI behind nginx/Apache/IIS.</li>
                    <li>Set <code>DEBUG_ASP=FALSE</code>.</li>
                    <li>Use HTTPS termination at reverse proxy.</li>
                    <li>Define memory and cache strategy for your workload.</li>
                    <li>Monitor logs and keep dependencies updated.</li>
                </ul>
                <div class="success"><strong>Launch-ready:</strong> with AxonASP you keep classic compatibility and gain modern deployment power immediately.</div>
            </section>

            <div style="text-align:center;margin-top:2rem;">
                <a href="features.htm" class="btn btn-primary">Open Complete Documentation</a>
                <a href="index.htm" class="btn btn-secondary">Back to Home</a>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h4>G3Pix AxonASP</h4>
                        <p>High-Performance Classic ASP Runtime Engine</p>
                    </div>
                    <div class="footer-section">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="features.htm">Complete Documentation</a></li>
                            <li><a href="https://github.com/guimaraeslucas/axonasp/issues" target="_blank">Issues</a></li>
                            <li><a href="https://github.com/guimaraeslucas/axonasp/discussions" target="_blank">Discussions</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2026 G3Pix. Built with ‚ù§Ô∏è for the Classic ASP community.</p>
                </div>
            </div>
        </footer>
    </body>

</html>
